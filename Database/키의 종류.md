# 키의 종류  

키(Key)는 데이터베이스에서 조건에 만족하는 행(Tuple)을 찾거나 순서대로 정렬할 때 다른 행들과 구별할 수 있는 **유일한 기준이 되는 속성(Attribute)이다.**  

#### - 최소성과 유일성  

- **최소성:** 하나의 키값으로 튜플을 유일하게 식별할 수 있는 성질
- **유일성:** 키를 구성하는 속성들 중 꼭 필요한 최소한의 속성들로만 키를 구성하는 성질

## 슈퍼키 - 유일성 O, 최소성 X  

- 유일성을 만족하는 속성 또는 속성들의 집합이다.
- 키 값이 같은 튜플은 존재할 수 없다.
- 회원의 (아이디)의 경우 같은 아이디를 가진 회원은 없기 때문에 슈퍼키가 될 수 있다.
- 하지만 (이름), (등급)이 같은 회원은 존재할 수 있기 때문에 슈퍼키로 사용할 수 없다.
- 그렇지만 (아이디 + 이름), (아이디 + 등급) 같이 아이디를 통해 각 튜플을 구분할 수 있기 때문에 슈퍼키가 될 수 있다.

## 후보키 - 유일성 X, 최소성 O  

- 슈퍼키 중에서 최소성을 만족하는 키이다.
- 슈퍼키에서 (아이디 + 이름), (아이디 + 등급)의 경우 각각의 튜플을 식별할 수 있으므로 유일성은 만족한다.
- 하지만 이름, 등급은 중복되는 값을 가지고 있고 없어도 문제가 되지 않는다. 회원 아이디로만 충분히 튜플을 식별할 수 있기 때문
- 회원 아이디는 최소성을 만족하기 때문에 후보키가 될 수 있다.

## 기본키 - 후보키 중 선택받은 키  

- 후보키는 여러 개가 존재할 수 있다.
- 여러 개의 후보키중 선택받은 키가 기본키가 된다.
- 하지만 기본키를 선택하는데 다음과 같은 기준에 만족해야 한다.
  - NULL 값을 가질 수 있는 속성이 포함된 후보키는 기본키로 적절하지 않다.
  - 값이 자주 변경될 수 있는 속성이 포함된 후보키는 기본키로 적절하지 않다.
  - 단순한 후보키를 기본키로 선택하는 것이 좋다.

## 대체키 - 후보키 중 선택받지 못한 키  

- 기본키로 선택받지 못하고 남아있는 후보키를 말한다.
- 대체키는 기본키를 대신할 자격이 있지만 기본키를 선택하는 기준에 만족하지 못한 나머지 키들이다.

## 외래키 - 다른 릴레이션의 기본 키를 참조하는 키  

- 다른 릴레이션의 기본키를 참조할 수 있는 키를 말한다.
- 릴레이션 사이의 관계를 올바르게 표현하기 위해 필요하다.

회원 테이블 - (회원 번호 (PK), 회원 아이디, 회원 이름, 회원 등급)  
주문 테이블 - (주문 번호 (PK), 회원 번호(FK), 주문 상품, 주문 수량, 주문 가격)  

회원이 상품A를 주문했을 때 주문 테이블이 회원의 모든 정보를 가지고 있을 필요는 없다.  

단지 회원 테이블을 참조할 수 있는 기본키 속성을 가지고 있으면 된다. 이를 회원 테이블을 참조하는 주문 테이블의 외래키라고 한다.  

외래키는 기본키를 참조하고 있으며 기본키와 외래키의 도메인은 반드시 같아야 한다.  

--- 

#### - 📌 Reference  

- <https://limkydev.tistory.com/108>