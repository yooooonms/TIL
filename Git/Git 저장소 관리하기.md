# 저장소 관리하기

저장소는 자신의 컴퓨터인 로컬 저장소와 어떤 서버에 있는 원격 저장소로 나눌 수 있다.

본인 컴퓨터의 작업 폴더에 `git init` 명령으로 로컬 저장소를 생성할 수 있다. 이제부터 해당 폴더의 파일들은 git이 관리한다.

### 로컬 저장소와 원격 저장소 연결하기

```git
# git remote add <원격 저장소 이름> <원격 저장소 주소>
$ git remote add origin https://github.com/foo/foo.git
```

위 명령으로 원격 저장소 이름과 원격 저장소 주소를 지정할 수 있다.

이후 정상적으로 연결됬는지 확인하기 하려면 `git remote -v` 명령을 사용해 설정해둔 원격 저장소 이름과 원격 저장소 주소를 확인할 수 있다.

원격 저장소와 연결을 해제하려면 `git remote remove <원격 저장소 이름>` 명령을 사용하면 된다.

### 로컬 저장소에서 원격 저장소로 파일 보내기

로컬 저장소에서 작업한 내용을 원격 저장소로 보낼 때는 `add, commit, push` 3단계로 나눌 수 있다.

```git
# 파일을 스테이징 영역에 올리기
# git add <디렉토리경로/파일명>
$ git add .
```

`git add .`은 현재 디렉토리에서 변경된 내용을 전부 스테이징 영역에 올린다. 프로젝트 폴더 내에 변경된 모든 내용을 스테이징 영역에 추가하려면 `git add -A` 명령을 사용하면 된다. 프로젝트 루트에서 `git add .`명령을 사용하면 `git add -A`와 동일한 효과를 가진다.

`git add -p` 명령을 사용하면 각 변경 사항을 하나씩 확인하며 스테이징 영역에 추가하거나 제외할 수 있다.

```git
# 변경 이록 남기기
# git commit -m <메시지>
$ git commit -m "message"

# 기본 편집기를 변경하는 명령
$ git config —global core.editor <editor>
```

`git commit`을 사용하면 기본으로 설정된 편집기에서 작성할 수 있다.

```git
# 원격 저장소에 반영하기
# git push <원격 저장소 이름> <브랜치 이름>
$ git push origin main
```

매번 변경 내용을 반영할 때마다 원격 저장소 이름과 브랜치 이름을 입력하는 것을 생략하려면 `git push -u <원격 저장소 이름> <브랜치 이름>` 명령을 사용하면 된다.

해당 명령을 사용하고 나서는 원격 저장소 이름과 브랜치 이름을 생략해도 된다.

#### 원격 저장소에 변경된 내용을 반영하는 과정 정리

- 새롭게 추가되거나 변경된 내용의 파일을 `git add .` 스테이징 영역에 추가한다.
- `git commit -m <메시지>` 명령으로 변경 사항에 대한 메시지를 추가한다.
- `git push <원격 저장소 이름> <브랜치 이름>` 명령으로 원격 저장소에 변경 내용을 반영한다.


### 원격 저장소 복사하기

```git
# git clone <원격 저장소 주소> <디렉토리 이름>
$ git clone https://github.com/foo/foo.git foo
```

`<디렉토리 이름>`을 사용하면 해당 디렉토리 명으로 원격 저장소가 복사된다. 특별한 이유가 없다면 보통 생략한다.

----

#### Reference

- <https://git-scm.com/book/ko/v2/%EC%8B%9C%EC%9E%91%ED%95%98%EA%B8%B0-Git-%EA%B8%B0%EC%B4%88>
- <https://git-scm.com/book/ko/v2/Git%EC%9D%98-%EA%B8%B0%EC%B4%88-%EC%88%98%EC%A0%95%ED%95%98%EA%B3%A0-%EC%A0%80%EC%9E%A5%EC%86%8C%EC%97%90-%EC%A0%80%EC%9E%A5%ED%95%98%EA%B8%B0>