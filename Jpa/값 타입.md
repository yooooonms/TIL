# ê°’ íƒ€ì…  

JPAì—ì„œ ë°ì´í„° íƒ€ì…ì„ í¬ê²Œ ë¶„ë¥˜í•˜ë©´ ì—”í‹°í‹° íƒ€ì…ê³¼ ê°’ íƒ€ì…ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.  

ì—”í‹°í‹° íƒ€ì…ì€ @Entityë¡œ ì •ì˜í•˜ëŠ” ê°ì²´ì´ê³ , ê°’ íƒ€ì…ì€ int, double, boolean ì²˜ëŸ¼ ë‹¨ìˆœíˆ ê°’ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ìë°” ê¸°ë³¸í˜•ì´ë‚˜ ì°¸ì¡°í˜•ì„ ë§í•œë‹¤.  

#### - ì—”í‹°í‹° íƒ€ì…ê³¼ ê°’ íƒ€ì…ì˜ ì°¨ì´ì   

ì—”í‹°í‹° íƒ€ì…ì€ ì‹ë³„ìë¥¼ í†µí•´ ì§€ì†ì ìœ¼ë¡œ ì¶”ì ì´ ê°€ëŠ¥í•œ ë°˜ë©´ ê°’ íƒ€ì…ì€ ì‹ë³„ìê°€ ì—†ê³  ìˆ«ìë‚˜ ë¬¸ìê°™ì€ ì†ì„±ë§Œ ìˆê¸°ë•Œë¬¸ì— ì¶”ì í•  ìˆ˜ ì—†ë‹¤.  

#### - ì—”í‹°í‹° íƒ€ì…ê³¼ ê°’ íƒ€ì…ì˜ íŠ¹ì§•  

**ì—”í‹°í‹° íƒ€ì…**  

- ì‹ë³„ìê°€ ìˆë‹¤.
- ìƒëª…ì£¼ê¸°ê°€ ìˆë‹¤.
- ê³µìœ í•  ìˆ˜ ìˆë‹¤.

**ê°’ íƒ€ì…**  

- ì‹ë³„ìê°€ ì—†ë‹¤.
- ìƒëª… ì£¼ê¸°ë¥¼ ì—”í‹°í‹°ì— ì˜ì¡´í•œë‹¤.
- ê³µìœ í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì•ˆì „í•˜ë‹¤. ë¶ˆë³€í•˜ê²Œ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

<br/>

ê°’ íƒ€ì…ì€ ë‹¤ìŒ 3ê°€ì§€ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.  

- **ê¸°ë³¸ ê°’ íƒ€ì…**
  - ìë°” ê¸°ë³¸í˜•
  - ë˜í¼ í´ë˜ìŠ¤
  - String
- **ì„ë² ë””ë“œ íƒ€ì…**
- **ì»¬ë ‰ì…˜ ê°’ íƒ€ì…**

## ê¸°ë³¸ ê°’ íƒ€ì…  

```java
@Entity
public class Foo {
    @Id
    private Long id;

    private String name;

    private int age;

    ...
}
```

Foo ì—”í‹°í‹°ì—ì„œ String, intê°€ ê°’ íƒ€ì…ì´ë‹¤. ì—”í‹°í‹°ëŠ” @Idë¥¼ í†µí•´ ì‹ë³„ì ê°’ì„ ê°€ì§€ê³  ìƒëª…ì£¼ê¸°ë„ ìˆì§€ë§Œ ê°’ íƒ€ì…ì¸ name, ageëŠ” ì‹ë³„ì ê°’ë„ ì—†ê³  ìƒëª…ì£¼ê¸°ë„ ì—”í‹°í‹°ì— ì˜ì¡´í•œë‹¤.  

Foo ì—”í‹°í‹°ë¥¼ ì œê±°í•˜ë©´ name, ageë„ ê°™ì´ ì œê±°ëœë‹¤. **ê°’ íƒ€ì…ì€ ê³µìœ í•˜ë©´ ì•ˆëœë‹¤.**  

## ì„ë² ë””ë“œ íƒ€ì… (ë³µí•© ê°’ íƒ€ì…)  

ìƒˆë¡œìš´ ê°’ íƒ€ì…ì„ ì •ì˜í•´ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ì„ë² ë””ë“œ íƒ€ì…ì´ë¼ í•œë‹¤. ì„ë² ë””ë“œ íƒ€ì…ë„ int, String ì²˜ëŸ¼ ê°’ íƒ€ì…ì´ë‹¤.  

```java
@Entity
public class Foo {
    @Id
    private Long id;

    private String name;
    private int age;

    private String postcode;
    private String homeAddress;
    private String detailAddress;
    ...
}
```

Foo ì—”í‹°í‹°ëŠ” ì£¼ì†Œë¼ëŠ” ì •ë³´ë¥¼ **ìš°í¸ ë²ˆí˜¸, ì£¼ì†Œ, ìƒì„¸ ì£¼ì†Œ**ë¡œ ìƒì„¸í•˜ê²Œ í’€ì–´ì„œ ê°€ì§€ê³  ìˆë‹¤.  

ì´ëŠ” ê°ì²´ì§€í–¥ì ì´ì§€ ì•Šìœ¼ë©° ì‘ì§‘ë ¥ì„ ë–¨ì–´íŠ¸ë¦°ë‹¤.  

ì£¼ì†Œë¼ëŠ” ë³„ë„ì˜ ê°’ íƒ€ì…ì´ ìˆë‹¤ë©´ ì½”ë“œê°€ ë”ìš± ëª…í™•í•´ì§ˆ ê²ƒì´ë‹¤.  

```java
@Entity
public class Foo {
    @Id
    private Long id;

    private String name;

    private int age;

    @Embedded
    private Address address;

    ...
}

@Embeddable
public class Address {

    @Column(name = "foo_postcode")
    private String postcode;
    private String homeAddress;
    private String detailAddress;
}
```

ì£¼ì†Œì²˜ëŸ¼ ìƒˆë¡œ ì •ì˜í•œ ê°’ íƒ€ì…ë“¤ì€ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆê³  ì‘ì§‘ë„ë„ ë§¤ìš° ë†’ë‹¤. ë˜í•œ í•´ë‹¹ ê°’ íƒ€ì…ë§Œ ì‚¬ìš©í•˜ëŠ” ì˜ë¯¸ ìˆëŠ” ë©”ì†Œë“œë„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.  

ì„ë² ë””ë“œ íƒ€ì…ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë‹¤ìŒ 2ê°€ì§€ ì–´ë…¸í…Œì´ì…˜ì´ í•„ìš”í•˜ë‹¤.  

**ë‘˜ ì¤‘ í•˜ë‚˜ëŠ” ìƒëµ ê°€ëŠ¥**  

- @Embedded: ê°’ íƒ€ì…ì„ ì‚¬ìš©í•˜ëŠ” ê³³ì— í‘œì‹œ
- @Embeddable: ê°’ íƒ€ì…ì„ ì •ì˜í•˜ëŠ” ê³³ì— í‘œì‹œ

ì„ë² ë””ë“œ íƒ€ì…ì„ í¬í•¨í•œ ëª¨ë“  ê°’ íƒ€ì…ì€ ì—”í‹°í‹°ì˜ ìƒëª…ì£¼ê¸°ì— ì˜ì¡´í•˜ë¯€ë¡œ ì—”í‹°í‹°ì™€ ì„ë² ë””ë“œ íƒ€ì…ì˜ ê´€ê³„ë¥¼ UMLë¡œ í‘œí˜„í•˜ë©´ **í¬í•¨(Composition) ê´€ê³„**ê°€ ëœë‹¤.  

#### - ì„ë² ë””ë“œ íƒ€ì…ê³¼ ì—°ê´€ê´€ê³„  

**ì„ë² ë””ë“œ íƒ€ì…ì€ ê°’ íƒ€ì…ì„ í¬í•¨í•˜ê±°ë‚˜ ì—”í‹°í‹°ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.**  

```java
@Enitity
public class Foo {
    @Embedded Address address;
    @Embedded PhoneNumber phoneNumber;
}

@Embeddable
public class Address {
    private String homeAddress;
    private String detailAddress;
    @Embedded Postcode postCode;
}

@Embeddable
public class Postcode {
    private String post;
    private String plusFour;
}

@Embeddable
public class PhoneNumber {
    private String areaCode;
    private String localNumber;
    @ManyToOne
    private PhoneServiceProvider provider;
}

@Entity
public class PhoneServiceProvider {
    @Id
    private Long id;
}
```

#### - @AttributeOverride ì†ì„± ì¬ì •ì˜  

ì„ë² ë””ë“œ íƒ€ì…ì— ì •ì˜í•œ ë§¤í•‘ì •ë³´ë¥¼ ì¬ì •ì˜í•˜ë ¤ë©´ ì—”í‹°í‹°ì— @AttributeOverrideë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.  

```java
@Entity
public class Foo {
    @Id
    private Long id;

    private String name;

    private int age;

    @Embedded
    private Address homeAddress;

    @Embedded
    @AttributeOverrides({
        @AttributeOverride(name = "postcode", column = @Column(name = "company_postCode")),
        @AttributeOverride(name = "homeAddress", column = @Column(name = "company_homeaddress")),
        @AttributeOverride(name = "detailAddress", column = @Column(name = "company_detailAddress")),
    })
    private Address companyAddress;

    ...
}
```

í•œ ì—”í‹°í‹°ì—ì„œ ê°™ì€ ì„ë² ë””ë“œ íƒ€ì…ì„ ì‚¬ìš©í•˜ë©´ í…Œì´ë¸”ì— ë§¤í•‘í•˜ëŠ” ì»¬ëŸ¼ëª…ì´ ì¤‘ë³µë  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìœ„ ì²˜ëŸ¼ ë§¤í•‘ì •ë³´ë¥¼ ì¬ì •ì˜í•´ì•¼ í•œë‹¤.  

#### - ì„ë² ë””ë“œ íƒ€ì…ê³¼ null  

ì„ë² ë””ë“œ íƒ€ì…ì´ nullì´ë©´ ë§¤í•‘í•­ ì»¬ëŸ¼ ê°’ì€ ëª¨ë‘ nullì´ ëœë‹¤.  

```java
foo.setAddress(null);
entityManager.persist(foo);
```

## ê°’ íƒ€ì…ê³¼ ë¶ˆë³€ ê°ì²´  

#### - ê°’ íƒ€ì… ê³µìœ  ì°¸ì¡°  

ê°’ íƒ€ì…ì„ ì—¬ëŸ¬ ì—”í‹°í‹°ì—ì„œ ê³µìœ í•˜ë©´ ìœ„í—˜í•˜ë‹¤.  

```java
member1.setAddress(new Address("oldCity"));
Address address = member1.getHomeAddress();

address.setCity("newCity");     // memberAì˜ address ê°’ì„ ê³µìœ í•´ì„œ ì‚¬ìš©
member2.setAddress(address);
```

íšŒì›2ì— ìƒˆë¡œìš´ ì£¼ì†Œë¥¼ í• ë‹¹í•˜ë ¤ê³  íšŒì›1ì˜ ì£¼ì†Œë¥¼ ê·¸ëŒ€ë¡œ ì°¸ì¡°í•´ì„œ ì‚¬ìš©í–ˆë‹¤.  

íšŒì›1ê³¼ íšŒì›2ëŠ” ê°™ì€ address ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì°¸ì¡°í•˜ê¸° ë•Œë¬¸ì— íšŒì›2ì˜ ì£¼ì†Œë§Œ newCityë¡œ ë³€ê²½ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ íšŒì›1ì˜ ì£¼ì†Œë„ newCityë¡œ ë³€ê²½ëœë‹¤.  

ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” íšŒì›1ê³¼ íšŒì›2ì˜ city ì†ì„±ì´ ë³€ê²½ëœ ê²ƒìœ¼ë¡œ íŒë‹¨í•´ íšŒì›1, íšŒì›2 ê°ê° UPDATE SQLì„ ì‹¤í–‰í•œë‹¤.  

ì´ëŸ° ë¶€ì‘ìš©(side effect)ë¥¼ ë§‰ê¸°ìœ„í•´ì„œëŠ” ê°’ì„ ë³µì‚¬í•´ì„œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.  

#### - ê°’ íƒ€ì… ë³µì‚¬  

ì¸ìŠ¤í„´ìŠ¤ ê°’ì„ ê³µìœ í•˜ëŠ” ê²ƒì€ ìœ„í—˜í•˜ê¸° ëŒ€ë¬¸ì— ë³µì‚¬í•´ì„œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.  

```java
member1.setAddress(new Address("oldCity"));
Address address = member1.getHomeAddress();

// ê°’ì„ ë³µì‚¬í•´ì„œ ìƒˆë¡œìš´ newAddress ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±
Address newAddress = address.clone();

newAddress.setCity("newCity");
member2.setAddress(newAddress);
```

clone() ë©”ì†Œë“œëŠ” ìì‹ ì„ ë³µì‚¬í•´ì„œ ë°˜í™˜í•˜ë„ë¡ êµ¬í˜„í•˜ë©´ ëœë‹¤.  

ê°’ì„ ë³µì‚¬í•´ì„œ ì‚¬ìš©í•˜ë©´ ê³µìœ  ì°¸ì¡°ë¡œ ì¸í•œ ë¶€ì‘ìš©ì„ í”¼í• ìˆ˜ ìˆë‹¤. ê·¸ëŸ°ë° ì„ë² ë””ë“œ íƒ€ì…ì€ ìë°”ì˜ ê¸°ë³¸í˜•ì´ ì•„ë‹ˆë¼ ì°¸ì¡°í˜•ì´ë‹¤.  

```java
Address a = new Address();
Address b = a;
b.setCity("new");
```

ì°¸ì¡°í˜•ì€ ê°’ì„ ë³µì‚¬í•´ì„œ ì „ë‹¬í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ ì°¸ì¡°í•˜ëŠ” ì¸ìŠ¤í„´ìŠ¤ ê°’ì„ ë„˜ê²¨ì£¼ê¸° ë•Œë¬¸ì— ìœ„ a, bëŠ” ê°™ì€ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê³µìœ  ì°¸ì¡°í•œë‹¤.  

ê°ì²´ë¥¼ ëŒ€ì…í•  ë•Œë§ˆë‹¤ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë³µì‚¬í•´ì„œ ëŒ€ì…í•˜ë©´ ê³µìœ  ì°¸ì¡°ë¥¼ í”¼í•  ìˆ˜ ìˆì§€ë§Œ ë³µì‚¬í•˜ì§€ ì•Šê³  ì›ë³¸ì˜ ì°¸ì¡°ê°’ì„ ì§ì ‘ ë„˜ê¸°ëŠ” ê²ƒì€ ë§‰ì„ ë°©ë²•ì´ ì—†ë‹¤.  

**ê°ì²´ì˜ ê³µìœ  ì°¸ì¡°ëŠ” í”¼í•  ìˆ˜ ì—†ë‹¤.**  

í•´ê²°ë°©ë²•ì€ ê°ì²´ì˜ ê°’ì„ ìˆ˜ì •í•˜ì§€ ëª»í•˜ê²Œ ë§‰ìŒìœ¼ë¡œì¨ ê³µìœ  ì°¸ì¡°ë¥¼ ë§‰ì„ ìˆ˜ ìˆë‹¤.  

ìˆ˜ì •ì(setter) ë©”ì†Œë“œë¥¼ ëª¨ë‘ ì œê±°í•˜ë©´ ê³µìœ  ì°¸ì¡°ë¥¼ í•´ë„ ê°’ì„ ë³€ê²½í•˜ì§€ ëª»í•˜ê¸° ë•Œë¬¸ì— ë¶€ì‘ìš©ì˜ ë°œìƒì„ ë§‰ì„ ìˆ˜ ìˆë‹¤.  

#### - ë¶ˆë³€ ê°ì²´  

ê°ì²´ë¥¼ ë¶ˆë³€í•˜ê²Œ ë§Œë“¬ìœ¼ë¡œì¨ ë¶€ì‘ìš©ì„ ì›ì²œ ì°¨ë‹¨í•  ìˆ˜ ìˆë‹¤. ê°’ íƒ€ì…ì€ ë¶ˆë³€ ê°ì²´ë¡œ ì„¤ê³„í•˜ëŠ” ê²ƒì´ ì¢‹ì€ ë°©ë²•ì´ë‹¤.  

```java
@Embeddable
public class Address {
    private String postcode;
    private String homaAddress;
    private String detailAddress;

    public Address() {
    }

    public Address(String postcode, String homeAddress, String detailAddress) {
        this.postcode = postcode;
        this.homeAddress = homeAddress;
        this.detailAddress = detailAddress;
    }

    // ì ‘ê·¼ì(getter)ëŠ” ë…¸ì¶œí•˜ë˜ ìˆ˜ì •ì(setter)ëŠ” ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.
}
```

ë¶ˆë³€ ê°ì²´ë¡œ ì„¤ê³„ë˜ì—ˆê¸° ë•Œë¬¸ì— ê°’ì„ ìˆ˜ì •í•  ìˆ˜ ì—†ì–´ ê³µìœ í•´ë„ ë¶€ì‘ìš©ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.  

ê°’ì„ ìˆ˜ì •í•´ì•¼í•œë‹¤ë©´ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.  

```java
Address newAddress = new Address(...);
```

## ê°’ íƒ€ì… ë¹„êµ  

ìë°”ê°€ ì œê³µí•˜ëŠ” ê°ì²´ ë¹„êµëŠ” ë‹¤ìŒ 2ê°€ì§€ ì´ë‹¤.  

- **ë™ì¼ì„± ë¹„êµ:** ì¸ìŠ¤í„´ìŠ¤ì˜ ì°¸ì¡° ê°’ì„ ë¹„êµ ==
- **ë™ë“±ì„± ë¹„êµ:** ì¸ìŠ¤í„´ìŠ¤ê°€ ìê¸°ê³  ìˆëŠ” ê°’ì„ ë¹„êµ equals()

```java
Address a = new Address("111");
Address b = new Address("111");
```

a == b ëŠ” ë™ì¼ì„± ë¹„êµë¥¼ í•˜ë©´ ì„œë¡œ ë‹¤ë¥¸ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ê¸° ë•Œë¬¸ì— ê±°ì§“ì´ë‹¤.  

ê°’ íƒ€ì…ì€ ì¸ìŠ¤í„´ìŠ¤ê°€ ë‹¬ë¼ë„ ê·¸ ì•ˆì— ê°’ì´ ê°™ìœ¼ë©´ ê°™ì€ ê²ƒìœ¼ë¡œ ë´ì•¼ í•˜ê¸°ë•Œë¬¸ì— ê°’ íƒ€ì…ì„ ë¹„êµí•  ë•ŒëŠ” equals()ë¥¼ ì‚¬ìš©í•´ì„œ ë™ë“±ì„± ë¹„êµë¥¼ í•´ì•¼ í•œë‹¤.  

**equals()ì™€ hashCode()ë¥¼ ì¬ì •ì˜ í•´ì•¼í•œë‹¤.**  

## ê°’ íƒ€ì… ì»¬ë ‰ì…˜  

```java
@Entity
class Member {
    @Id @Column(name = "member_id")
    private Long id;

    @Embedded
    private Address address;

    @ElementCollection
    @CollectionTable(name = "FAVORITE_FOODS", joinColumns = @JoinColumn(name = "member_id"))
    @Column(name = "FOOD_NAME")
    private Set<String> favoriteFoods = new HashSet<>();

    @ElementCollection
    @CollectionTable(name = "ADDRESS", joinColumns = @JoinColumn(name = "member_id"))
    private List<Address> addressHistory = new ArraryList<>();
}
```

favoriteFoodsëŠ” ê¸°ë³¸ê°’ íƒ€ì…ì¸ Stringì„ ì»¬ë ‰ì…˜ìœ¼ë¡œ ê°€ì§„ë‹¤.  

ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì€ ì»¬ëŸ¼ì•ˆì— ì»¬ë ‰ì…˜ì„ í¬í•¨í•  ìˆ˜ ì—†ì–´ë” ë³„ë„ì˜ í…Œì´ë¸”ì„ ì¶”ê°€í•˜ê³  @CollectionTableì„ ì‚¬ìš©í•´ ì¶”ê°€í•œ í…Œì´ë¸”ì„ ë§¤í•‘í•´ì•¼ í•œë‹¤.  

favoriteFoodsì²˜ëŸ¼ ê°’ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ì»¬ëŸ¼ì´ í•˜ë‚˜ë©´ @Columnì„ ì‚¬ìš©í•´ì„œ ì»¬ëŸ¼ëª…ì„ ì§€ì •í•  ìˆ˜ ìˆë‹¤.  

addressHistoryëŠ” ì„ë² ë””ë“œ íƒ€ì…ì¸ Addressë¥¼ ì»¬ë ‰ì…˜ìœ¼ë¡œ ê°€ì§„ë‹¤. ì´ê²ƒë„ ë³„ë„ì˜ í…Œì´ë¸”ì„ ì‚¬ìš©í•´ì•¼ í•œë‹¤. í…Œì´ë¸” ë§¤í•‘ì •ë³´ëŠ” @AttributeOverrideë¥¼ ì‚¬ìš©í•´ì„œ ì¬ì •ì˜í•  ìˆ˜ ìˆë‹¤.  

```java
Member member = new Member();

// ì„ë² ë””ë“œ ê°’ íƒ€ì…
member.setAddress(new Address("111", "korea", "seoul"));

// ê¸°ë³¸ ê°’ íƒ€ì… ì»¬ë ‰ì…˜
member.getFavoriteFoods().add("ì¹˜í‚¨");
member.getFavoriteFoods().add("ì°œë‹­");
member.getFavoriteFoods().add("í”¼ì");

// ì„ë² ë””ë“œ ê°’ íƒ€ì„ ì»¬ë ‰ì…˜
member.getAddressHistory().add(new Address("112", "korea", "busan"));
member.getAddressHistory().add(new Address("113", "korea", "daegu"));

entityManager.persist(member);
```

ì´ 6ë²ˆì˜ INSERT SQLì´ ì‹¤í–‰ëœë‹¤.  

- member 1ë²ˆ
- FavoriteFoods 3ë²ˆ
- AddressHistory 2ë²ˆ

ê°’ íƒ€ì„ ì»¬ë ‰ì…˜ì€ ì˜ì†ì„± ì „ì´ + ê³ ì•„ ê°ì²´ ì œê±° ê¸°ëŠ¥ì„ í•„ìˆ˜ë¡œ ê°€ì§„ë‹¤.  

ê°’ íƒ€ì… ì»¬ë ‰ì…˜ë„ ì¡°íšŒí•  ë•Œ í˜ì¹˜ ì „ëµì„ ì„ íƒí•  ìˆ˜ ìˆëŠ”ë° LAZYê°€ ê¸°ë³¸ê°’ì´ë‹¤.  

```java
@ElementCollection(fetch = FetchType.LAZY)
```

```java
Member member = entityManager.find(Member.class, 1L);

member.setAddress(new Address(...));

// 2. ê¸°ë³¸ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ìˆ˜ì •
Set<String> foods = memger.getFoods();
foods.remove("íƒ•ìˆ˜ìœ¡");
foods.add("ì¹˜í‚¨");

// 3. ì„ë² ë””ë“œ ê°’ íƒ€ì… ì»¬ë ‰ì…˜ ìˆ˜ì •
List<Address> address = member.getAddress();
address.remove(new Adress(...));
address.add(new Address(...));
```

ê¸°ë³¸ ê°’ íƒ€ì„ ì»¬ë ‰ì…˜ì—ì„œ ê°’ì„ ìˆ˜ì •í•˜ë ¤ë©´ ì œê±°í•œë‹¤ìŒ ì¶”ê°€í•´ì•¼ í•œë‹¤.  

ê°’ íƒ€ì…ì€ ë¶ˆë³€í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì»¬ë ‰ì…˜ì—ì„œ ê¸°ì¡´ ì£¼ì†Œë¥¼ ì‚­ì œí•˜ê³  ìƒˆë¡œìš´ ì£¼ì†Œë¥¼ ë“±ë¡í–ˆë‹¤.  

ê°’ íƒ€ì…ì€ equals, hashCodeë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.  

<br/>

ê°’ íƒ€ì…ì€ ì •ë§ ê°’ íƒ€ì…ì´ë¼ íŒë‹¨ë  ë•Œë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.  

ë§Œì•½ ì‹ë³„ìê°€ í•„ìš”í•˜ê³  ì§€ì†í•´ì„œ ê°’ì„ ì¶”ì í•˜ê³  êµ¬ë¶„í•˜ê³  ë³€ê²½í•´ì•¼ í•œë‹¤ë©´ ê·¸ê²ƒì€ ê°’ íƒ€ì…ì´ ì•„ë‹Œ ì—”í‹°í‹°ì´ë‹¤.

---

#### ğŸ“Œ Reference  

- ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë° | ê¹€ì˜í•œ ì €