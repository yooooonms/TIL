# ë³µí•© í‚¤ì™€ ì‹ë³„ ê´€ê³„ ë§¤í•‘  

## ì‹ë³„ ê´€ê³„ì™€ ë¹„ì‹ë³„ ê´€ê³„  

ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ì‚¬ì´ì— ê´€ê³„ëŠ” ì™¸ë˜ í‚¤ê°€ ê¸°ë³¸ í‚¤ì— í¬í•¨ë˜ëŠ”ì§€ ì—¬ë¶€ì— ë”°ë¼ ì‹ë³„ ê´€ê³„ì™€ ë¹„ì‹ë³„ ê´€ê³„ë¡œ êµ¬ë¶„í•œë‹¤.  

- **ì‹ë³„ ê´€ê³„:** ìƒìœ„ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ë‚´ë ¤ë°›ì•„ì„œ í•˜ìœ„ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ + ì™¸ë˜ í‚¤ë¡œ ì‚¬ìš©í•˜ëŠ” ê´€ê³„ì´ë‹¤.  
- **ë¹„ì‹ë³„ ê´€ê³„:** ìƒìœ„ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ ë‚´ë ¤ë°›ì•„ì„œ í•˜ìœ„ í…Œì´ë¸”ì˜ ì™¸ë˜ í‚¤ë¡œë§Œ ì‚¬ìš©í•˜ëŠ” ê´€ê³„ì´ë‹¤.  

ë¹„ì‹ë³„ ê´€ê³„ëŠ” ì™¸ë˜ í‚¤ì— NULLì„ í—ˆìš©í•˜ëŠ”ì§€ì— ë”°ë¼ í•„ìˆ˜ì  ë¹„ì‹ë³„ ê´€ê³„ì™€ ì„ íƒì  ë¹„ì‹ë³„ ê´€ê³„ë¡œ ë‚˜ëˆˆë‹¤.  

- **í•„ìˆ˜ì  ë¹„ì‹ë³„ ê´€ê³„(Mandatory):** ì™¸ë˜ í‚¤ì— NULLì„ í—ˆìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. ì—°ê´€ê´€ê³„ë¥¼ í•„ìˆ˜ì ìœ¼ë¡œ ë§ºì–´ì•¼ í•œë‹¤.
- **ì„ íƒì  ë¹„ì‹ë³„ ê´€ê³„(Optional):** ì™¸ë˜ í‚¤ì— NULLì„ í—ˆìš©í•œë‹¤. ì—°ê´€ê´€ê³„ë¥¼ ë§ºì„ì§€ ë§ì§€ ì„ íƒí•  ìˆ˜ ìˆë‹¤.

ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì„ ì„¤ê³„í•  ë•ŒëŠ” ì‹ë³„ ê´€ê³„ì™€ ë¹„ì‹ë³„ ê´€ê³„ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•´ì•¼í•œë‹¤.  

ìµœê·¼ì—ëŠ” ë¹„ì‹ë³„ ê´€ê³„ë¥¼ ì£¼ë¡œ ì‚¬ìš©í•˜ê³  ê¼­ í•„ìš”í•œ ê³³ì—ë§Œ ì‹ë³„ ê´€ê³„ë¥¼ ì‚¬ìš©í•œë‹¤.  

JPAëŠ” ì‹ë³„ ê´€ê³„ì™€ ë¹„ì‹ë³„ ê´€ê³„ë¥¼ ëª¨ë‘ ì§€ì›í•œë‹¤.  

## ë³µí•© í‚¤: ë¹„ì‹ë³„ ê´€ê³„ ë§¤í•‘  

ê¸°ë³¸ í‚¤ë¥¼ êµ¬ì„±í•˜ëŠ” ì»¬ëŸ¼ì´ í•˜ë‚˜ë©´ ë‹¤ìŒì²˜ëŸ¼ ë‹¨ìˆœí•˜ê²Œ ë§¤í•‘í•œë‹¤.  

```java
@Entity
public class Hello {
    @Id
    private String id;
}
```

ë‘˜ ì´ìƒì˜ ì»¬ëŸ¼ìœ¼ë¡œ êµ¬ì„±ëœ ë³µí•© í‚¤ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ë³„ë„ì˜ ì‹ë³„ì í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•œë‹¤.  

ì‹ë³„ì í•„ë“œê°€ 2ê°œ ì´ìƒì´ë©´ ë³„ë„ì˜ ì‹ë³„ì í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  equalsì™€ hashCodeë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.  

JPAëŠ” ë³µí•© í‚¤ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•´ @IdClassì™€ @EmbeddedId 2ê°€ì§€ ë°©ë²•ì„ ì œê³µí•œë‹¤.  

## @IdClass  

```java
@Entity
@IdClass(ParentId.class)
public class Parent {

    @Id
    @Column(name = "PARENT_ID1")
    private String id1;     // ParentId.id1ê³¼ ì—°ê²°

    @Id
    @Column(name = "PARENT_ID2")
    private String id2;     // ParentId.id2ì™€ ì—°ê²°

    ...
}

// ì‹ë³„ì í´ë˜ìŠ¤
public class ParentId implements Serializable {

    private String id1;     // Parent.id1 ë§¤í•‘
    private String id2;     // Parent.id2 ë§¤í•‘

    public ParentId() {
    }

    public ParentId(String id1, String id2) {
        this.id1 = id1;
        this.id2 = id2;
    }

    // equals and hashCode
    ...

}
```

@IdClassë¥¼ ì‚¬ìš©í•  ë•Œ ì‹ë³„ì í´ë˜ìŠ¤ ë‹¤ìŒê³¼ ê°™ì€ ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ í•œë‹¤.  

- ì‹ë³„ì í´ë˜ìŠ¤ì˜ ì†ì„±ëª…ê³¼ ì—”í‹°í‹°ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì‚­ëµ¬ìì˜ ì†ì„±ëª…ì´ ê°™ì•„ì•¼ í•œë‹¤.
- Serializable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.
- equalsì™€ hashCodeë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.
- ê¸°ë³¸ ìƒì„±ìê°€ ìˆì–´ì•¼ í•œë‹¤.
- ì‹ë³„ì í´ë˜ìŠ¤ëŠ” publicì´ì–´ì•¼ í•œë‹¤.

```java
// ì €ì¥
Parent parent = new Parent();
parent.setId1("myId1");
parent.setId2("myId2");
parent.setName("parentName");
entityManager.persist(parent);
```

`entityManager.persist(parent)`ë¥¼ í˜¸ì¶œí•˜ë©´ ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì— ì—”í‹°í‹°ë¥¼ ë“±ë¡í•˜ê¸° ì§ì „ì— ë‚´ë¶€ì—ì„œ Parent.id1, Parent.id2 ê°’ì„ ì‚¬ìš©í•´ì„œ ì‹ë³„ì í´ë˜ìŠ¤ë¥¼ ìƒì„±í•˜ê³  ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ì˜ í‚¤ë¡œ ì‚¬ìš©í•œë‹¤.  

```java
// ì¡°íšŒ
ParentId parentId = new ParentId("myId1", "myId2");
Parent parent = entityManager.find(Parent.class, parentId);
```

ìƒìœ„ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ ì»¬ëŸ¼ì´ ë³µí•© í‚¤ì´ê¸° ë•Œë¬¸ì— í•˜ìœ„ í…Œì´ë¸”ì˜ ì™¸ë˜ í‚¤ë„ ë³µí•© í‚¤ì´ë‹¤.  

ì—¬ëŸ¬ ì»¬ëŸ¼ì„ ë§¤í•‘í•´ì•¼ í•˜ë¯€ë¡œ @JoinColumns ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•˜ê³  ê°ê°ì˜ ì™¸ë˜ í‚¤ ì»¬ëŸ¼ì„ @JoinColumnìœ¼ë¡œ ë§¤í•‘í•œë‹¤.  

```java
@Entity
public class Child {

    @Id
    private String id;

    @ManyToOne
    @JoinColumns({
        @JoinColumn(name = "PARENT_ID1", referecedColumnName = "PARENT_ID1"),
        @JoinColumn(name = "PARENT_ID2", referecedColumnName = "PARENT_ID2"),
    });
    private Parent parent;
}
```

@JoinColumnì˜ name ì†ì„±ê³¼ referencedColumnName ì†ì„±ì˜ ê°’ì´ ê°™ìœ¼ë©´ referecedColumnNameì€ ìƒëµí•´ë„ ëœë‹¤.  

## @EmbeddedId  

```java
@Entity
public class Parent {

    @EmbeddedId
    private ParentId id;

    private String name;
    ...
}

// ì‹ë³„ì í´ë˜ìŠ¤
@Embeddable
public class ParentId implements Serializable {

    @Column(name = "PARENT_ID1")
    private String id1;

    @Column(name = "PARENT_ID2")
    private String id2;

    // equals and hashCode
    ...
}
```

@IdClassì™€ëŠ” ë‹¤ë¥´ê²Œ @EmbeddedIdë¥¼ ì ìš©í•œ ì‹ë³„ì í´ë˜ìŠ¤ì— ê¸°ë³¸ í‚¤ë¥¼ ì§ì ‘ ë§¤í•‘í•œë‹¤.  

@EmbeddedIdë¥¼ ì ìš©í•œ ì‹ë³„ì í´ë˜ëŠ” ì•„ë˜ì™€ ê°™ì€ ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ í•œë‹¤.  

- Embeddable ì–´ë…¸í…Œì´ì…˜ì„ ë¶™ì—¬ì£¼ì—¬ë§Œ í•œë‹¤.
- Serializable ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.
- equalsì™€ hashCodeë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.
- ê¸°ë³¸ ìƒì„±ìê°€ ìˆì–´ì•¼ í•œë‹¤.
- ì‹ë³„ì í´ë˜ìŠ¤ëŠ” publicì´ì–´ì•¼ í•œë‹¤.

```java
// ì €ì¥
Parent parent = new Parent();
ParentId parentId = new ParentId("myId1", "myId2");
parent.setId(parentId);
parent.setName("parentName");
entityManager.persist(parent);

// ì¡°íšŒ
ParentId parentId = new ParentId("myId1", "myId2");
Parent parent = entityManager.find(Parent.class, parentId);
```

## ë³µí•© í‚¤ì™€ equals(), hashCode()  

ë³µí•© í‚¤ëŠ” equals()ì™€ hashCode()ë¥¼ êµ¬í˜„í•´ì•¼ í•œë‹¤.  

ìë°”ì˜ ëª¨ë“  í´ë˜ìŠ¤ëŠ” ê¸°ë³¸ìœ¼ë¡œ Object í´ë˜ìŠ¤ë¥¼ ìƒì†ë°›ëŠ”ë° ì´ í´ë˜ìŠ¤ê°€ ì œê³µí•˜ëŠ” equals()ëŠ” ì¸ìŠ¤í„´ìŠ¤ ì°¸ì¡° ê°’ ë¹„êµì¸ "==" ë¹„êµ ì¦‰ ë™ì¼ì„± ë¹„êµë¥¼ í•œë‹¤.  

- ë™ì¼ì„±: ì‹¤ì œ ì¸ìŠ¤í„´ìŠ¤ê°€ ê°™ì€ ê²½ìš°ì´ë‹¤. == ì‚¬ìš©
- ë™ë“±ì„±: ì‹¤ì œ ì¸ìŠ¤í„´ìŠ¤ëŠ” ë‹¤ë¥¼ ìˆ˜ ìˆì§€ë§Œ ê°€ì§€ê³  ìˆëŠ” ê°’ì´ ê°™ë‹¤. equals() ë©”ì†Œë“œë¥¼ ì‚¬ìš©

```java
public boolean equals(Object obj) {
    return (this == obj);
}
```

ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ëŠ” ì—”í‹°í‹°ì˜ ì‹ë³„ìë¥¼ í‚¤ë¡œ ì‚¬ìš©í•´ì„œ ì—”í‹°í‹°ë¥¼ ê´€ë¦¬í•œë‹¤. ê·¸ë¦¬ê³  ì‹ë³„ìë¥¼ ë¹„êµí•  ë•Œ equals()ì™€ hashCode()ë¥¼ ì‚¬ìš©í•œë‹¤.  

ì‹ë³„ì ê°ì²´ì˜ ë™ë“±ì„±ì´ ì§€ì¼œì§€ì§€ ì•Šìœ¼ë©´ ì˜ˆìƒê³¼ ë‹¤ë¥¸ ì—”í‹°í‹°ê°€ ì¡°íšŒë˜ê±°ë‚˜ ì—”í‹°í‹°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ëŠ” ë“± ì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸ê°€ ì—”í‹°í‹°ë¥¼ ê´€ë¦¬í•˜ëŠ”ë° ì‹¬ê°í•œ ë¬¸ì œê°€ ë°œìƒí•œë‹¤.  

ì‹ë³„ì í´ë˜ìŠ¤ëŠ” ë³´í†µ equals()ì™€ hashCode()ë¥¼ êµ¬í˜„í•  ë•Œ ëª¨ë“  í•„ë“œë¥¼ ì‚¬ìš©í•œë‹¤.  

## IdClass vd @EmbeddedId  

ê°ê° ì¥ë‹¨ì ì´ ìˆê¸° ë•Œë¬¸ì— ì ì ˆí•˜ê²Œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.  

@EmbeddedIdê°€ @IdClassì™€ ë¹„êµí•´ì„œ ë” ê°ì²´ì§€í–¥ì ì´ê³  ì¤‘ë³µë„ ì—†ì–´ì„œ ì¢‹ì§€ë§Œ íŠ¹ì • ìƒí™©ì— ë”°ë¼ì„œëŠ” JPQLì´ ë” ê¸¸ì–´ì§ˆ ìˆ˜ ìˆë‹¤.  

```sql
# @EmbeddedId
SELECT p.id.id1, p.id.id2 FROM Parent p

# @IdClass
SELECT p.id1, p.id2 FROM Parent p
```

## ë³µí•© í‚¤: ì‹ë³„ ê´€ê³„ ë§¤í•‘  

#### @IdClassì™€ ì‹ë³„ ê´€ê³„  

```java
@Entity
public class Parent {
    @Id 
    @Column(name = "PARENT_ID")
    private String id;
    private String name;
    ...
}

@Entity
@IdClass(ChildId.class)
public class Child {
    @Id
    @ManyToOne
    @JoinColumn(name = "PARENT_ID")
    public Parent parent;

    @Id
    @Column(name = "CHILD_ID")
    private String childId;

    ...
}

public class ChildId implements Serializable {

    private String parent;  // Child.parent ë§¤í•‘
    private STring childId; // Child.chideId ë§¤í•‘

    // equals & hashCode
    ...
}

@Entity
@IdClass(GrandChildeId.class)
public class GrandChild {
    @Id
    @ManyToOne
    @JoinColumns({
        @JoinColumn(name = "PARENT_ID"),
        @JoinColumn(name = "CHILD_ID")
    })
    private Child child;

    @Id
    @Column(name = "GRANDCHILD_ID")
    private String id;

    ...
}

public class GrandChildId implements Serializable {
    private ChildId child;  // GrandChild.child ë§¤í•‘
    private String id;      // GrandChild.id ë§¤í•‘

    // equals & hashCode
    ...
}
```

ì‹ë³„ ê´€ê³„ëŠ” ê¸°ë³¸ í‚¤ì™€ ì™¸ë˜ í‚¤ë¥¼ ê°™ì´ ë§¤í•‘í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì‹ë³„ì ë§¤í•‘ì¸ @Idì™€ ì—°ê´€ê´€ê³„ ë§¤í•‘ì¸ @ManyToOneì„ ê°™ì´ ì‚¬ìš©í•´ì•¼ í•œë‹¤.  

```java
@Id
@ManyToOne
@JoinColumn(name = "PARENT_ID")
private Pranent parent;
```

#### @EmbeddedIdì™€ ì‹ë³„ ê´€ê³„  

@EmbeddedIdë¡œ ì‹ë³„ ê´€ê³„ë¥¼ êµ¬ì„±í•  ë•ŒëŠ” @MapsIdë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.  

```java
@Entity
public class Parent {

    @Id
    @Column(name = "PARENT_ID")
    private String id;

    private String name;

    ...
}

@Entity
public class Child {

    @EmbeddedId
    @Column(name = "CHILD_ID")
    private ChildId id;

    @MapsId("parentId")
    @ManyToOne
    @JoinColumn(name = "PARENT_ID")
    public Parent parent;

    private String name;

    ...
}

@Embeddable
public class ChildId implements Serializable {

    private String parentId;    // @MapsId("parentId")ë¡œ ë§¤í•‘

    @Column(name = "CHILD_ID")
    private String id;         

    // equals & hashCode
    ...
}

@Entity
public class GrandChild {

    @EmbeddedId
    private GrandChildId id;

    @MapsId("childId")
    @ManyToOn
    @JoinColumns({
        @JoinColumn(name = "PARENT_ID"),
        @JoinColumn(name = "CHILD_ID")
    })
    private Child child;

    private String name;

    ...
}

@Embeddable
public class GrandChildId implements Serializable {

    private ChildId childId;    // @MapsId("childId")ë¡œ ë§¤í•‘

    @Column(name = "GRANDCHILD_ID")
    private String id;

    // equals & hashCode
    ...
}
```

## ë¹„ì‹ë³„ ê´€ê³„ë¡œ êµ¬í˜„  

ë¹„ì‹ë³„ ê´€ê³„ëŠ” ì‹ë³„ ê´€ê³„ì˜ ë³µí•© í‚¤ë¥¼ ì‚¬ìš©í•œ ì½”ë“œì™€ ë¹„êµí•˜ë©´ ë§¤í•‘ë„ ê°„ë‹¨í•˜ê³  ì½”ë“œë„ ë‹¨ìˆœí•˜ë‹¤.  

ë˜í•œ ë³µí•© í‚¤ê°€ ì—†ê¸° ë•Œë¬¸ì— ë³µí•© í‚¤ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì§€ ì•Šì•„ë„ ëœë‹¤.  

```java
@Entity
public class Parent {

    @Id @GeneratedValue
    @Column(name = "PARENT_ID")
    private Long id;

    private String name;

}

@Entity
public class Child {
    @Id @GeneratedValue
    @Column(name = "CHILD_ID")
    private Long id;

    private String name;

    @ManyToOne
    @JoinColumn(name = "PARENT_ID")
    private Parent parent;
    
}

@Entity
public class GrandChild {
    @Id @GeneratedValue
    @Column(name = "GRANDCHILD_ID")
    private Long id;

    private String name;

    @ManyToOne
    @JoinColumn(name = "CHILD_ID")
    private Child child;
}
```

## ì¼ëŒ€ì¼ ì‹ë³„ ê´€ê³„  

ì¼ëŒ€ì¼ ì‹ë³„ ê´€ê³„ëŠ” í•˜ìœ„ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ ê°’ìœ¼ë¡œ ìƒìœ„ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ ê°’ë§Œ ì‚¬ìš©í•œë‹¤.  

ë•Œë¬¸ì— ìƒìœ„ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ê°€ ë³µí•© í‚¤ê°€ ì•„ë‹ˆë©´ í•˜ìœ„ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ëŠ” ë³µí•© í‚¤ë¡œ êµ¬ì„±í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.  

```java
@Entity
public class Board {
    @Id @GeneratedValue
    @Column(name = "BOARD_ID")
    private Long id;

    private String title;

    @OneToOne(mappedBy = "board")
    private BoardDetail boardDetail;
}

@Entity
public class BoardDetail {

    @Id
    private Long boardId;

    @MapsId // BoardDetail.boardId ë§¤í•‘
    @OneToOne
    @JoinColumn(nmae = "BOARD_ID")
    private Board board;

    private String content;
    ...
}
```

ì‹ë³„ìê°€ ë‹¨ìˆœíˆ ì»¬ëŸ¼ í•˜ë‚˜ë©´ @MapsIdë¥¼ ì‚¬ìš©í•˜ê³  ì†ì„± ê°’ì€ ë¹„ì›Œë‘ë©´ ëœë‹¤.  

## ì‹ë³„, ë¹„ì‹ë³„ ê´€ê³„ì˜ ì¥ë‹¨ì   

ì‹ë³„ ê´€ê³„ëŠ” ìƒìœ„ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ë¥¼ í•˜ìœ„ í…Œì´ë¸”ë¡œ ì „íŒŒí•˜ë©´ì„œ í•˜ìœ„ í…Œì´ë¸”ì˜ ê¸°ë³¸ í‚¤ ì»¬ëŸ¼ì´ ì ì  ëŠ˜ì–´ë‚œë‹¤.  

ê²°êµ­ ì¡°ì¸í•  ë•Œ SQLì´ ë³µì¡í•´ì§€ê³  ê¸°ë³¸ í‚¤ ì¸ë±ìŠ¤ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ì»¤ì§ˆ ìˆ˜ ìˆë‹¤.  

ì‹ë³„ ê´€ê³„ëŠ” 2ê°œ ì´ìƒì˜ ì»¬ëŸ¼ì„ í•©í•´ì„œ ë³µí•© ê¸°ë³¸ í‚¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤  

ì‹ë³„ ê´€ê³„ëŠ” ê¸°ë³¸ í‚¤ë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ë¯¸ê°€ ìˆëŠ” ìì—° í‚¤ ì»¬ëŸ¼ì„ ì¡°í•©í•˜ëŠ” ê²½ìš°ê°€ ë§ì€ë° ë¹„ì‹ë³„ ê´€ê³„ì˜ ê¸°ë³¸ í‚¤ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ì™€ ì „í˜€ ê´€ê²Œì—†ëŠ” ëŒ€ë¦¬ í‚¤ë¥¼ ì£¼ë¡œ ì‚¬ìš©í•œë‹¤.  

ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ì€ ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ì–¸ì  ê°€ëŠ” ë³€í•˜ëŠ”ë° ì‹ë³„ ê´€ê³„ì˜ ìì—° í‚¤ ì»¬ëŸ¼ì´ í•˜ìœ„ í…Œì´ë¸”ê¹Œì§€ ì „íŒŒë˜ë©´ ë³€ê²½í•˜ê¸° í˜ë“¤ë‹¤.  

ì‹ë³„ ê´€ê³„ëŠ” í…Œì´ë¸” êµ¬ì¡°ê°€ ìœ ì—°í•˜ì§€ ëª»í•˜ë‹¤.  

ê°ì²´ ê´€ê³„ ë§¤í•‘ì˜ ê´€ì ì—ì„œ ë³´ë©´ ë¹„ì‹ë³„ ê´€ê³„ë¥¼ ì„ í˜¸í•œë‹¤.  

ì¼ëŒ€ì¼ ê´€ê³„ë¥¼ ì œì™¸í•˜ê³ ëŠ” ì‹ë³„ ê´€ê³„ëŠ” 2ê°œ ì´ìƒì˜ ì»¬ëŸ¼ì„ ë¬¶ì€ ë³µí•© ê¸°ë³¸ í‚¤ë¥¼ ì‚¬ìš©í•œë‹¤.  

JPAì—ì„œ ë³µí•© í‚¤ëŠ” ë³„ë„ì˜ ë³µí•© í‚¤ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•´ì•¼ í•˜ëŠ”ë° ì»¬ëŸ¼ì´ í•˜ë‚˜ì¸ ê¸°ë³¸ í‚¤ë¥¼ ë§¤í•‘í•˜ëŠ” ê²ƒë³´ë‹¤ ë§ì€ ë…¸ë ¥ì´ í•„ìš”í•˜ë‹¤.  

ë¹„ì‹ë³„ ê´€ê³„ì˜ ê¸°ë³¸ í‚¤ëŠ” ì£¼ë¡œ ëŒ€ë¦¬ í‚¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì¸ë° JPAëŠ” @GeneratedValue ì²˜ëŸ¼ ëŒ€ë¦¬ í‚¤ë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ í¸í•œ ë°©ë²•ì„ ì œê³µí•œë‹¤.  

**ë¹„ì‹ë³„ ê´€ê³„ë¥¼ ì‚¬ìš©í•˜ê³  ê¸°ë³¸ í‚¤ëŠ” Long íƒ€ì…ì˜ ëŒ€ë¦¬ í‚¤ë¥¼ ì‚¬ìš©**í•˜ëŠ” ë°©ë²•ì„ ì¶”ì²œí•œë‹¤.  

ëŒ€ë¦¬ í‚¤ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ì™€ ì•„ë¬´ ê´€ë ¨ì´ ì—†ê¸° ë•Œë¬¸ì— ë¹„ì¦ˆë‹ˆê°€ ë³€ê²½ë˜ì–´ë„ ìœ ì—°í•˜ê²Œ ëŒ€ì²˜í•  ìˆ˜ ìˆë‹¤. ë˜í•œ JPAì—ì„œëŠ” @GeneratedValueë¥¼ í†µí•´ ê°„í¸í•˜ê²Œ ëŒ€ë¦¬ í‚¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.  

ì„ íƒì  ë¹„ì‹ë³„ ë³´ë‹¤ëŠ” íŒ”ìˆ˜ì  ë¹„ì‹ë³„ ê´€ê³„ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤. **ì„ íƒì ì¸ ë¹„ì‹ë³„ ê´€ê³„ëŠ” NULLì„ í—ˆìš©í•˜ê¸° ë•Œë¬¸ì— ì¡°ì¸í•  ë•Œ ì™¸ë¶€ ì¡°ì¸ì„ ì‚¬ìš©**í•´ì•¼ í•œë‹¤.  

**í•„ìˆ˜ì  ê´€ê³„ëŠ” NOT NULLë¡œ í•­ìƒ ê´€ê³„ê°€ ìˆë‹¤ëŠ” ê²ƒì„ ë³´ì¥í•˜ê¸° ë•Œë¬¸ì— ë‚´ë¶€ ì¡°ì¸**ë§Œ ì‚¬ìš©í•´ë„ ëœë‹¤.  

---

#### ğŸ“Œ Reference  

- ìë°” ORM í‘œì¤€ JPA í”„ë¡œê·¸ë˜ë° | ê¹€ì˜í•œ ì €