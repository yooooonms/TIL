# ì¼ê¸‰ ì»¬ë ‰ì…˜ (First Class Collection)  

**Collectionì„ Wrappingí•˜ë©´ì„œ Wrappingí•œ Collection ì™¸ ë‹¤ë¥¸ ë©¤ë²„ ë³€ìˆ˜ê°€ ì—†ëŠ” ìƒíƒœë¥¼ ì¼ê¸‰ ì»¬ë ‰ì…˜ì´ë¼ê³  í•œë‹¤.**  

#### - Collectionì„ Wrappingí•œë‹¤ï¼Ÿ  

```java
public class Member {
    private String name;
    private List<Address> addresses;
    ...
}

public class Address {
    private String postcode;
    private String homeAddress;
    private String detailAddress;
    ...
}
```

ìœ„ì˜ ì½”ë“œë¥¼ ë‹¤ìŒ ì½”ë“œì²˜ëŸ¼ ë°”ê¾¸ëŠ” ê²ƒì„ ë§í•œë‹¤.  

```java
public class Member {
    private String name;
    private AddressBook addressBook;
    ...
}

// First Class Collection
public class AddressBook {
    private List<Address> address;
    ...
}

public class Address {
    private String postcode;
    private String homeAddress;
    private String detailAddress;
    ...
}
```

## ì¼ê¸‰ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì–»ëŠ” ì´ì   

#### 1. ë¹„ì¦ˆë‹ˆìŠ¤ì— ì¢…ì†ì ì¸ ìë£Œêµ¬ì¡°  

ë‹¤ìŒê³¼ ê°™ì€ ì¡°ê±´ì´ ìˆë‹¤ê³  í•  ë•Œ  

- ë°°ì†¡ì§€ëŠ” ìµœëŒ€ 10ê°œ ê¹Œì§€ë§Œ ì €ì¥í•  ìˆ˜ ìˆë‹¤.

ì¼ê¸‰ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•˜ê¸° ì „ì—ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.  

```java
public class Member {
    private static final int MAX_SIZE = 10;
    ...
    private List<Address> addresses;

    private void addNewAddress(Address address) {
        if (addresses.size() > MAX_SIZE) {
            throw new SomeException(...);
        }
        addresses.add(address);
    }

}
```

ì˜ˆì œ ì½”ë“œë¥¼ ë³´ë©´ ì£¼ì†Œì— ëŒ€í•œ ê²€ì¦ ë¡œì§ê³¼ ì£¼ì†Œì˜ ìµœëŒ€ ê°¯ìˆ˜ì— ëŒ€í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ìš”êµ¬ì‚¬í•­ ê¹Œì§€ Memberê°€ ê°€ì§€ê²Œ ëœë‹¤.  

ì¼ê¸‰ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.  

```java
public class AddressBook {
    
    private static final int MAX_SIZE = 10;

    private List<Address> addresses;

    private void addNewAddress(Address address) {
        if (addresses.size() > MAX_SIZE) {
            throw new SomeException(...);
        }
        addresses.add(address);
    }
    
}
```

ì¼ê¸‰ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ ì£¼ì†Œì™€ ê´€ë ¨ëœ ìš”êµ¬ì‚¬í•­ì€ AddressBookì—ì„œë§Œ ê´€ë¦¬ë¥¼ í•˜ê¸° ë•Œë¬¸ì— ì‘ì§‘ë„ë¥¼ ë†’ì´ê³  Memberì™€ Addressê°„ì˜ ê²°í•©ë„ëŠ” ë‚®ì¶œ ìˆ˜ ìˆë‹¤.


#### 2. Collectionì˜ ë¶ˆë³€ì„± ë³´ì¥  

ë¶ˆë³€ì„±ì„ ë³´ì¥í•˜ê¸° ìœ„í•´ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ìˆëŠ” setter ê°™ì€ ë©”ì†Œë“œëŠ” ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¢‹ë‹¤.  

setterëŒ€ì‹  ìƒì„±ìë¥¼ ì‚¬ìš©í•˜ë©´ ì™¸ë¶€ì—ì„œ ìƒíƒœë¥¼ ë³€ê²½í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— ë¶ˆë³€ ê°ì²´ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.  

final í‚¤ì›Œë“œëŠ” ë¶ˆë³€ìœ¼ë¡œ ë§Œë“œëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤ ë‹¨ì§€ ì¬í• ë‹¹ì„ ê¸ˆì§€í•˜ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— ì˜¤í•´í•˜ë©´ ì•ˆëœë‹¤.  

```java
public class AddressBook {

    private static final int MAX_SIZE = 10;

    private final List<Address> addresses;
    
    public AddressBook(List<Address> addresses) {
        this.addresses = addresses;
    }
    private void addNewAddress(Address address) {
        if (addresses.size() > MAX_SIZE) {
            throw new IllegalArgumentException("");
        }
        addresses.add(address);
    }

    public List<Address> getAddresses() {
        return addresses;
    }
    
}
```

ìƒì„±ìì™€ getterë§Œ ì œê³µí•  ë¿ setterëŠ” ì œê³µí•˜ì§€ ì•ŠìŒìœ¼ë¡œì¨ ë¶ˆë³€ ì»¬ë ‰ì…˜ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.  

#### 3. ìƒíƒœì™€ í–‰ìœ„ë¥¼ í•œ ê³³ì—ì„œ ê´€ë¦¬  

```java
public class AddressBook {
    
    private static final int MAX_SIZE = 10;

    private List<Address> addresses;

    private void addNewAddress(Address address) {
        if (addresses.size() > MAX_SIZE) {
            throw new SomeException(...);
        }
        addresses.add(address);
    }
    
}
```

ì¼ê¸‰ ì»¬ë ‰ì…©ëŠ” ê°’ê³¼ ë¡œì§ì´ í•œê³³ì— ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ì‘ì§‘ë„ê°€ ë†’ì•„ì§„ë‹¤.  

AddressBook ì¼ê¸‰ ì»¬ë ‰ì…˜ì„ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë˜‘ê°™ì€ ê¸°ëŠ¥ì„ ì¤‘ë³µìœ¼ë¡œ ìƒì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.  

#### 4. ì´ë¦„ì„ ê°€ì§€ëŠ” Collection  

ì´ë¦„ì„ ê°€ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê²€ìƒ‰í•˜ê¸° ì‰½ê³  í•´ë‹¹ ì¼ê¸‰ ì»¬ë ‰ì…˜ê³¼ ê´€ë ¨ëœ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ ìœ„ì¹˜ë¥¼ ì°¾ëŠ” ê²ƒë„ ê°„ë‹¨í•˜ë‹¤.  

---

#### ğŸ“Œ Reference  

- [ì†ŒíŠ¸ì›ìŠ¤ ì•¤ì†”ë¡œì§€](http://www.yes24.com/Product/Goods/3290339)
- <https://github.com/gmoon92/first-class-collection>
- <https://brainbackdoor.tistory.com/140>