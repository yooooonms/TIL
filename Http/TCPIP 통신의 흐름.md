## TCP/IP 통신의 흐름  

TCP/IP를 사용해 통신을 할 때는 계층을 순서대로 거쳐 상대와 통신한다.  

<img src="/Http/image/tcpip1.png" width="500" height="350">  

송신하는 측은 애플리케이션 게층에서부터 내려가고, 수신하는 측은 역순인 데이터 링크 계층부터 애플리케이션 계층까지 올라간다.  

흐름은 다음과 같다.  

1. 클라이언트의 애플리케이션 계층에서 어떤 웹 페이지를 보고 싶다는 Http Request를 보낸다.
2. 트랜스포트 계층에서는 애플리케이션 계층에서 받은 Http Message를 통신하기 쉽게 조각내 안내 번호와 포트 번호를 붙여 네트워크 계층에 전달한다.
3. 네트워크 계층에서는 수신지 MAC 주소를 추가해서 링크 계층에 전달함으로써 네트워크를 통해 송신할 준비를 끝낸다.
4. 수신측 서버는 링크 계층에서 데이터를 받아들여 순서대로 상위 계층에 전달해 애플리케이션 계층까지 도달한다.
5. 애플리케이션 계층에 도달하게 되면 클라이언트가 보낸 Http Request 내용을 수신할 수 있다.

TCP/IP를 이용해 데이터를 송신하는 과정에서 각 계층을 거칠 때마다 **헤더**에 필요한 정보가 추가되고,  

<img src="/Http/image/tcpip2.png" width="410" height="450">  

해당 데이터를 수신하면서 해당 계층마다 사용한 헤더를 삭제한다. 이렇게 정보를 감싸는 것을 캡슐화라고 한다.  

---

#### 📌 Reference  

- 그림으로 배우는 Http & Network Basic | 우에노 센 저