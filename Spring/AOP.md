# 관점 지향 프로그래밍 (AOP, Aspect Oriented Programming)  

개발을 하다보면 여러 코드에서 공통적인 기능이 많이 발생한다.  

공통기능을 모든 모듈에 적용하기 위해 상속을 사용하는 것도 좋은 방법이지만 Java는 다중상속을 지원하지 않는다.  

공통기능을 모아둔 클래스를 상속해 공통 기능을 적용하는데는 한계가 있다. 그리고 핵심 로직에 공통 기능이 섞여 있어 보기 불편하고 여기저기 흩어져 있기 때문에 유지보수 하기에도 매우 불편하다.  

이를 해결한 방법이 AOP로 여러 핵심 로직에 흩어진 공통 기능을 분리해 재사용성을 높여주는 프로그래밍 기법이다.  

즉, 핵심 기능과 공통 기능의 구현을 분리해 핵심 기능을 구현한 코드의 수정 없이 공통 기능을 적용할 수 있게 해준다.  

**핵심 로직에 영향을 미치지 않는 다는 것**이 핵심이며 애플리케이션 전체에 걸쳐 사용되는 기능을 재사용할 수 있다는 장점이 있다.  

## AOP의 주요 용어  

|용어|의미|
|---|---|
|**Target**|Aspect를 적용하는 대상으로 주로 핵심 기능에 적용한다.|
|**Aspect**|공통기능 모듈, 핵심 기능에 공통으로 적용되는 기능을 말한다. Advice + PointCut으로 이루어져 있다.|
|**Advice**|실직적으로 공통 기능을 구현한 구현체이다.|
|**JoinPoint**|Advice가 적용될 수 있는 위치로 메소드 호출, 필드 값 변경 등이 Joinpoint에 해당한다.|
|**PointCut**|Advice가 적용될 JointPoint를 나타낸다.|
|**weaving**|Advice를 핵심 로직에 적용하는 것이다.|

## Spring AOP의 특징  

스프링은 **프록시 패턴 기반**의 AOP 구현체를 사용한다. 프록시를 사용하는 이유는 접근 제어 및 부가기능을 추가하기 위해서이다.  

중간에 프록시 객체를 생성한 다음 실제 객체의 기능을 실행하기 전, 후에 공통 기능을 호출한다.  

> 핵심 기능의 실행은 다른 객체에 위임하고 부가적인 기능을 제공하는 객체를 프록시(proxy)라고 부른다.

당연히 스프링 빈에만 AOP를 적용할 수 있다.  

모든 AOP 기능을 제공하는 것이 아니라 스프링 컨테이너와 연동하여 흔하게 발생하는 문제에 대한 해결책을 지원하는 것이 목적이다.  

---

#### 📌 Reference  

- 초보 웹 개발자를 위한 스프링 5 프로그래밍 입문 | 최범균 저
- <https://engkimbs.tistory.com/746>
- <https://jojoldu.tistory.com/71>